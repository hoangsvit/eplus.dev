---
title: "Create Custom VPC with Subnets Configuration (Solution)"
seoTitle: "Create Custom VPC with Subnets Configuration (Solution)"
seoDescription: "Learn how to delete the default VPC and create a custom VPC with multiple subnets for improved network management"
datePublished: Sun Feb 15 2026 08:45:55 GMT+0000 (Coordinated Universal Time)
cuid: cmlni3g72000202l19v06b6ho
slug: create-custom-vpc-with-subnets-configuration-solution
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1771145118079/305443bd-a21a-444c-a2df-411ec0c6c55a.png
ogImage: https://cdn.hashnode.com/res/hashnode/image/upload/v1771145128776/8ee4625c-a722-4c66-a3b5-e5724a8842d0.png
tags: create-custom-vpc-with-subnets-configuration, create-custom-vpc-with-subnets-configuration-solution

---

## Overview

* Labs are timed and cannot be paused. The timer starts when you click **Start Lab**.
    
* The included cloud terminal is preconfigured with the gcloud SDK.
    
* Use the terminal to execute commands and then click **Check my progress** to verify your work.
    

## Challenge scenario

* You have an existing project with the default VPC. As per the VPC best practice you have decided to move to a custom VPC for better network isolation and control.
    
* Your task is to delete default VPC and create custom VPC with two subnets in `us-central1` and `asia-southeast1` in provided time frame.
    

Click **Check my progress** to verify the objective.

Custom VPC with two subnets

---

## Solution of Lab

%[https://www.youtube.com/watch?v=0PS9SVjnvJI] 

```apache
curl -LO raw.githubusercontent.com/ePlus-DEV/storage/refs/heads/main/labs/create-custom-vpc-with-subnets-configuration-solution/lab.sh
source lab.sh
```

**Script Alternative**

```apache

gcloud compute firewall-rules list --filter="network=default" --format="value(name)" | xargs -r -I {} gcloud compute firewall-rules delete {} --quiet && \
gcloud compute networks delete default --quiet && \
gcloud compute networks create custom-vpc --subnet-mode=custom && \
gcloud compute networks subnets create custom-subnet-us --network=custom-vpc --region=us-central1 --range=10.0.1.0/24 && \
gcloud compute networks subnets create custom-subnet-asia --network=custom-vpc --region=asia-southeast1 --range=10.0.2.0/24
```